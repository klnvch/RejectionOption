'''
Created on Jun 24, 2017

@author: anton

Tests for Alphanumeric Dataset
'''
from DataSet import DataSet
from tests_common import test_unit_mlp, test_block_mlp, test_block_rbf,\
    test_unit_RBF

# clf, units, beta, dropout, es, targets, epochs, batch, print_step
params_0 = [
    ['mlp-sgm', 64,  0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 256, 0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.0001,   1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.000001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.00001,  1.0, 10, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.00001,  0.8, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm', 128, 0.00001,  0.8, 10, (0.0, 1.0), 1000, 128, 10],
    
    ['mlp-sft', 64,  0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 256, 0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.0001,   1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.00001,  1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.000001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.00001,  1.0, 10, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.00001,  0.8, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 128, 0.00001,  0.8, 10, (0.0, 1.0), 1000, 128, 10],
    
    ['mlp-sgm-2', 64,  0.00001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm-2', 128, 0.00001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    
    ['mlp-sft-2', 64,  0.00001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft-2', 128, 0.00001, 1.0, 0,  (0.0, 1.0), 1000, 128, 10],
    
    ['rbf', 128, 0.0001,   1.0, 0,  (0.0, 1.0), 100, 128, 10],
    ['rbf', 128, 0.00001,  1.0, 0,  (0.0, 1.0), 100, 128, 10],
    ['rbf', 128, 0.000001, 1.0, 0,  (0.0, 1.0), 100, 128, 10],
    
    ['rbf-reg', 128, 0.0001,   1.0, 0,  (0.0, 1.0), 100, 128, 10],
    ['rbf-reg', 128, 0.00001,  1.0, 0,  (0.0, 1.0), 100, 128, 10],
    ['rbf-reg', 128, 0.000001, 1.0, 0,  (0.0, 1.0), 100, 128, 10]
    ]

params_1 = [
    [1, 64],
    [1, 128],
    [1, 256],
    [1, 512]
    ]

params_2 = [
    #['mlp-sgm', 128, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    #['mlp-sft', 128, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    #['mlp-sgm-2', 64, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    #['mlp-sft-2', 64, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    
    ['rbf', 128, 0.0001,   1.0, 0,  (0.0, 1.0), 300, 128, 10],
    ['rbf', 128, 0.00001,  1.0, 0,  (0.0, 1.0), 300, 128, 10],
    ['rbf', 128, 0.000001, 1.0, 0,  (0.0, 1.0), 300, 128, 10],
    
    #['rbf-reg', 128, 0.0000001,   1.0, 0,  (0.0, 1.0), 300, 128, 10],
    #['rbf-reg', 128, 0.00000001,  1.0, 0,  (0.0, 1.0), 300, 128, 10],
    #['rbf-reg', 128, 0.000000001, 1.0, 0,  (0.0, 1.0), 300, 128, 10]
    ]

params_3 = [
    ['mlp-sgm', 256, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm-2', 128, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10]
    ]

params_4 = [
    ['mlp-sgm', 256, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft', 256, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sgm-2', 128, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10],
    ['mlp-sft-2', 128, 0.00001,  1.0, 0, (0.0, 1.0), 1000, 128, 10]
    ]

if __name__ == '__main__':
    #wicoxon_test('tests/alphanumeric/run_0.csv', params_0)
    #wicoxon_test('tests/alphanumeric/run_1.csv', params_1)
    
    #ds = DataSet(13, add_noise=3)
    #test_unit_mlp(ds=ds, clf='rbf', rej=3, units=128,
    #              beta=0.00001, dropout=1.0, es=0, targets=(0.0, 1.0),
    #              n_epochs=500, batch_size=128, show=True)
    
    # misclassifications
    #test_block_mlp(13, 'alphanumeric', 0, range(0,1), None, None, params_0)
    #test_block_rbf('alphanumeric', 13, range(0,1), None, None, params_1)
    
    # outliers
    test_block_mlp(13, 'alphanumeric', 3, range(0,1), None, None, params_2)
    #test_block_mlp(13, 'alphanumeric', 1, range(0,1), None, None, params_3)
    #test_block_mlp(13, 'alphanumeric', 5, range(0,1), None, None, params_3)
    #test_block_mlp(13, 'alphanumeric', 2, range(0,1), None, None, params_4)
    #test_block_mlp(13, 'alphanumeric', 6, range(0,1), None, None, params_4)